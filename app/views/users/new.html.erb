
<%= render 'layerbegin' %>

<script>
$(document).ready(function(){

    $('#create').click(function(){

        var typevalue;
        if($('#typevalue').val()==0)
        {
            typevalue=$('#typenum').val();

        }else
        {
            typevalue=$('#typetime').val();
        }

location.href='/users/createuser?num='+$('#num').val()+'&startlogin='+$('#startlogin').val()+'&pwdnum='+$('#passnum').val()+'&typenum='+$('#typenum').val()+'&typetime='+$('#typetime').val()+'&statusvalue='+$('#statusvalue').val();


    });

if($('#typevalue').val()=="")
{
    $('#typevalue').val('0');
}

    $('#selecttype').change(function(){

        $('#typevalue').val($(this).val());

        if($(this).val()==0)
        {
            $('#cishu').addClass('showerr');
            $('#cishu').removeClass('hiddenerr');
            $('#data_1').addClass('hiddenerr');
            $('#data_1').removeClass('showerr');
        }else
        {
            $('#data_1').addClass('showerr');
            $('#data_1').removeClass('hiddenerr');
            $('#cishu').addClass('hiddenerr');
            $('#cishu').removeClass('showerr');
        }

    });



    $('#data_1 .input-group.date').datepicker({
        todayBtn: "linked",
        keyboardNavigation: false,
        forceParse: false,
        calendarWeeks: true,
        autoclose: true
    });

    if($('#statusvalue').val()=='')
    {
        $('#statusvalue').val('3');
    }

    $('#selectstatus').change(function(){
        $('#statusvalue').val($(this).val());
    })




});





</script>


<style type="text/css">
    .showerr{
        display: block;
    }
    .hiddenerr{
        display: none;
    }
</style>


<div class="ibox-content form-horizontal m-t">
  <h3>生成用户</h3>



      <br>
      <br>

      <div class="form-group">
        <label class="col-sm-5 control-label">帐号生成数量：</label>
        <div class="col-sm-3">
 <input class="form-control" id="num">

        </div>
      </div>


      <div class="form-group">
        <label class="col-sm-5 control-label">帐号：</label>
        <div class="col-sm-3">
          <input class="form-control" value=<%= @lastuser %>    id="startlogin" >

        </div>
      </div>

  <div class="form-group">
    <label class="col-sm-5 control-label">密码位数：</label>
    <div class="col-sm-3">
      <input class="form-control" value="6"   id="passnum" >
    </div>
  </div>




  <div class="form-group showerr" id="cishu">
    <label class="col-sm-5 control-label">次数：</label>
    <div class="col-sm-3">
      <input class="form-control" id="typenum">
    </div>
  </div>

  <div class="form-group" id="data_1">
    <label class="col-sm-5 control-label">截止日期：</label>
    <div class="col-sm-3">
      <div class="input-group date">
        <span class="input-group-addon"><i class="fa fa-calendar"></i></span>
        <input type="text" class="form-control" id="typetime">
      </div>
    </div>
  </div>


  <div class="form-group">
    <label class="col-sm-5 control-label">权限：</label>
    <div class="col-sm-3">
      <select class="form-control m-b" id="selectstatus">
        <option value="1">正常</option>
        <option  value="0">停用</option>
        <option  value="3">待审核</option>
      </select>
      <input  id="statusvalue" type='hidden'>

      <div class="hiddenerr"><span style="color: red;">设置权限</span></div>
    </div>
  </div>

  <div>
    <input type="button" value="生成" id="create" class="btn btn-w-m btn-success mylink pull-right">
  </div>



      <div class="form-group">
        <label class="col-sm-2 control-label"></label>
        <div class="col-sm-9">
        </div>
      </div>






</div>


<%= render 'layerend' %>
